<?php
    class MimeList
    {
        public static $mime_to_ext = array('x-world/x-3dmf' => array('.3dm','.3dmf','.qd3','.qd3d'),
                                           'application/octet-stream' => array('.a','.arc','.arj','.bin','.com','.csv','.dump','.exe','.lha','.lhx','.lzh','.lzx','.o','.psd','.saveme','.uu','.zoo'),
                                           'application/x-authorware-bin' => array('.aab'),
                                           'application/x-authorware-map' => array('.aam'),
                                           'application/x-authorware-seg' => array('.aas'),
                                           'text/vnd.abc' => array('.abc'),
                                           'text/html' => array('.acgi','.htm','.html','.htmls','.htx','.shtml'),
                                           'video/animaflex' => array('.afl'),
                                           'application/postscript' => array('.ai','.eps','.ps'),
                                           'audio/aiff' => array('.aif','.aifc','.aiff'),
                                           'audio/x-aiff' => array('.aif','.aifc','.aiff'),
                                           'application/x-aim' => array('.aim'),
                                           'text/x-audiosoft-intra' => array('.aip'),
                                           'application/x-navi-animation' => array('.ani'),
                                           'application/x-nokia-9000-communicator-add-on-software' => array('.aos'),
                                           'application/mime' => array('.aps'),
                                           'application/arj' => array('.arj'),
                                           'image/x-jg' => array('.art'),
                                           'video/x-ms-asf' => array('.asf','.asx'),
                                           'text/x-asm' => array('.asm','.s'),
                                           'text/asp' => array('.asp'),
                                           'application/x-mplayer2' => array('.asx'),
                                           'video/x-ms-asf-plugin' => array('.asx'),
                                           'audio/basic' => array('.au','.snd'),
                                           'audio/x-au' => array('.au'),
                                           'application/x-troff-msvideo' => array('.avi'),
                                           'video/avi' => array('.avi'),
                                           'video/msvideo' => array('.avi'),
                                           'video/x-msvideo' => array('.avi'),
                                           'video/avs-video' => array('.avs'),
                                           'application/x-bcpio' => array('.bcpio'),
                                           'application/mac-binary' => array('.bin'),
                                           'application/macbinary' => array('.bin'),
                                           'application/x-binary' => array('.bin'),
                                           'application/x-macbinary' => array('.bin'),
                                           'image/bmp' => array('.bm','.bmp'),
                                           'image/x-windows-bmp' => array('.bmp'),
                                           'application/book' => array('.boo','.book'),
                                           'application/x-bzip2' => array('.boz','.bz2'),
                                           'application/x-bsh' => array('.bsh','.sh','.shar'),
                                           'application/x-bzip' => array('.bz'),
                                           'text/plain' => array('.c','.c++','.cc','.com','.conf','.cxx','.def','.f','.f90','.for','.g','.h','.hh','.idc','.jav','.java','.list','.log','.lst','.m','.mar','.pl','.sdml','.text','.txt'),
                                           'text/csv' => array('.csv'),
                                           'text/x-c' => array('.c','.cc','.cpp'),
                                           'application/vnd.ms-pki.seccat' => array('.cat'),
                                           'application/clariscad' => array('.ccad'),
                                           'application/x-cocoa' => array('.cco'),
                                           'application/cdf' => array('.cdf'),
                                           'application/x-cdf' => array('.cdf'),
                                           'application/x-netcdf' => array('.cdf','.nc'),
                                           'application/pkix-cert' => array('.cer','.crt'),
                                           'application/x-x509-ca-cert' => array('.cer','.crt','.der'),
                                           'application/x-chat' => array('.cha','.chat'),
                                           'application/java' => array('.class'),
                                           'application/java-byte-code' => array('.class'),
                                           'application/x-java-class' => array('.class'),
                                           'application/x-cpio' => array('.cpio'),
                                           'application/mac-compactpro' => array('.cpt'),
                                           'application/x-compactpro' => array('.cpt'),
                                           'application/x-cpt' => array('.cpt'),
                                           'application/pkcs-crl' => array('.crl'),
                                           'application/pkix-crl' => array('.crl'),
                                           'application/x-x509-user-cert' => array('.crt'),
                                           'application/x-csh' => array('.csh'),
                                           'text/x-script.csh' => array('.csh'),
                                           'application/x-pointplus' => array('.css'),
                                           'text/css' => array('.css'),
                                           'application/x-director' => array('.dcr','.dir','.dxr'),
                                           'application/x-deepv' => array('.deepv'),
                                           'video/x-dv' => array('.dif','.dv'),
                                           'video/dl' => array('.dl'),
                                           'video/x-dl' => array('.dl'),
                                           'application/msword' => array('.doc','.dot','.w6w','.wiz','.word'),
                                           'application/commonground' => array('.dp'),
                                           'application/drafting' => array('.drw'),
                                           'application/x-dvi' => array('.dvi'),
                                           'drawing/x-dwf (old)' => array('.dwf'),
                                           'model/vnd.dwf' => array('.dwf'),
                                           'application/acad' => array('.dwg'),
                                           'image/vnd.dwg' => array('.dwg','.dxf','.svf'),
                                           'image/x-dwg' => array('.dwg','.dxf','.svf'),
                                           'application/dxf' => array('.dxf'),
                                           'text/x-script.elisp' => array('.el'),
                                           'application/x-bytecode.elisp (compiled elisp)' => array('.elc'),
                                           'application/x-elc' => array('.elc'),
                                           'application/x-envoy' => array('.env','.evy'),
                                           'application/x-esrehber' => array('.es'),
                                           'text/x-setext' => array('.etx'),
                                           'application/envoy' => array('.evy'),
                                           'text/x-fortran' => array('.f','.f77','.f90','.for'),
                                           'application/vnd.fdf' => array('.fdf'),
                                           'application/fractals' => array('.fif'),
                                           'image/fif' => array('.fif'),
                                           'video/fli' => array('.fli'),
                                           'video/x-fli' => array('.fli'),
                                           'image/florian' => array('.flo','.turbot'),
                                           'text/vnd.fmi.flexstor' => array('.flx'),
                                           'video/x-atomic3d-feature' => array('.fmf'),
                                           'image/vnd.fpx' => array('.fpx'),
                                           'image/vnd.net-fpx' => array('.fpx'),
                                           'application/freeloader' => array('.frl'),
                                           'audio/make' => array('.funk','.my','.pfunk'),
                                           'image/g3fax' => array('.g3'),
                                           'image/gif' => array('.gif'),
                                           'video/gl' => array('.gl'),
                                           'video/x-gl' => array('.gl'),
                                           'audio/x-gsm' => array('.gsd','.gsm'),
                                           'application/x-gsp' => array('.gsp'),
                                           'application/x-gss' => array('.gss'),
                                           'application/x-gtar' => array('.gtar'),
                                           'application/x-compressed' => array('.gz','.z','.zip'),
                                           'application/x-gzip' => array('.gz','.gzip'),
                                           'multipart/x-gzip' => array('.gzip'),
                                           'text/x-h' => array('.h','.hh'),
                                           'application/x-hdf' => array('.hdf'),
                                           'application/x-helpfile' => array('.help','.hlp'),
                                           'application/vnd.hp-hpgl' => array('.hgl','.hpg','.hpgl'),
                                           'text/x-script' => array('.hlb'),
                                           'application/hlp' => array('.hlp'),
                                           'application/x-winhelp' => array('.hlp'),
                                           'application/binhex' => array('.hqx'),
                                           'application/binhex4' => array('.hqx'),
                                           'application/mac-binhex' => array('.hq'),
                                           'application/mac-binhex40' => array('.hqx'),
                                           'application/x-binhex40' => array('.hqx'),
                                           'application/x-mac-binhex40' => array('.hqx'),
                                           'application/hta' => array('.hta'),
                                           'text/x-component' => array('.htc'),
                                           'text/webviewhtml' => array('.htt'),
                                           'x-conference/x-cooltalk' => array('.ice'),
                                           'image/x-icon' => array('.ico'),
                                           'image/ief' => array('.ief','.iefs'),
                                           'application/iges' => array('.iges','.igs'),
                                           'model/iges' => array('.iges','.igs'),
                                           'application/x-ima' => array('.ima'),
                                           'application/x-httpd-imap' => array('.imap'),
                                           'application/inf' => array('.inf'),
                                           'application/x-internett-signup' => array('.ins'),
                                           'application/x-ip2' => array('.ip'),
                                           'video/x-isvideo' => array('.isu'),
                                           'audio/it' => array('.it'),
                                           'application/x-inventor' => array('.iv'),
                                           'i-world/i-vrml' => array('.ivr'),
                                           'application/x-livescreen' => array('.ivy'),
                                           'audio/x-jam' => array('.jam'),
                                           'text/x-java-source' => array('.jav','.java'),
                                           'application/x-java-commerce' => array('.jcm'),
                                           'image/jpeg' => array('.jfif','.jfif-tbnl','.jpe','.jpeg','.jpg'),
                                           'image/pjpeg' => array('.jfif','.jpe','.jpeg','.jpg'),
                                           'image/x-jps' => array('.jps'),
                                           'application/x-javascript' => array('.js'),
                                           'image/jutvision' => array('.jut'),
                                           'audio/midi' => array('.kar','.mid','.midi'),
                                           'music/x-karaoke' => array('.kar'),
                                           'application/x-ksh' => array('.ksh'),
                                           'text/x-script.ksh' => array('.ksh'),
                                           'audio/nspaudio' => array('.la','.lma'),
                                           'audio/x-nspaudio' => array('.la','.lma'),
                                           'audio/x-liveaudio' => array('.lam'),
                                           'application/x-latex' => array('.latex','.ltx'),
                                           'application/lha' => array('.lha'),
                                           'application/x-lha' => array('.lha'),
                                           'application/x-lisp' => array('.lsp'),
                                           'text/x-script.lisp' => array('.lsp'),
                                           'text/x-la-asf' => array('.lsx'),
                                           'application/x-lzh' => array('.lzh'),
                                           'application/lzx' => array('.lzx'),
                                           'application/x-lzx' => array('.lzx'),
                                           'text/x-m' => array('.m'),
                                           'video/mpeg' => array('.m1v','.m2v','.mp2','.mp3','.mpa','.mpe','.mpeg','.mpg'),
                                           'audio/mpeg' => array('.m2a','.mp2','.mpa','.mpg','.mpga'),
                                           'audio/x-mpequrl' => array('.m3u'),
                                           'application/x-troff-man' => array('.man'),
                                           'application/x-navimap' => array('.map'),
                                           'application/mbedlet' => array('.mbd'),
                                           'application/x-magic-cap-package-1.0' => array('.mc$'),
                                           'application/mcad' => array('.mcd'),
                                           'application/x-mathcad' => array('.mcd'),
                                           'image/vasa' => array('.mcf'),
                                           'text/mcf' => array('.mcf'),
                                           'application/netmc' => array('.mcp'),
                                           'application/x-troff-me' => array('.me'),
                                           'message/rfc822' => array('.mht','.mhtml','.mime'),
                                           'application/x-midi' => array('.mid','.midi'),
                                           'audio/x-mid' => array('.mid','.midi'),
                                           'audio/x-midi' => array('.mid','.midi'),
                                           'music/crescendo' => array('.mid','.midi'),
                                           'x-music/x-midi' => array('.mid','.midi'),
                                           'application/x-frame' => array('.mif'),
                                           'application/x-mif' => array('.mif'),
                                           'www/mime' => array('.mime'),
                                           'audio/x-vnd.audioexplosion.mjuicemediafile' => array('.mjf'),
                                           'video/x-motion-jpeg' => array('.mjpg'),
                                           'application/base64' => array('.mm','.mme'),
                                           'application/x-meme' => array('.mm'),
                                           'audio/mod' => array('.mod'),
                                           'audio/x-mod' => array('.mod'),
                                           'video/quicktime' => array('.moov','.mov','.qt'),
                                           'video/x-sgi-movie' => array('.movie','.mv'),
                                           'audio/x-mpeg' => array('.mp2'),
                                           'video/x-mpeg' => array('.mp2','.mp3'),
                                           'video/x-mpeq2a' => array('.mp2'),
                                           'audio/mpeg3' => array('.mp3'),
                                           'audio/x-mpeg-3' => array('.mp3'),
                                           'application/x-project' => array('.mpc','.mpt','.mpv','.mpx'),
                                           'application/vnd.ms-project' => array('.mpp'),
                                           'application/marc' => array('.mrc'),
                                           'application/x-troff-ms' => array('.ms'),
                                           'application/x-vnd.audioexplosion.mzz' => array('.mzz'),
                                           'image/naplps' => array('.nap','.naplps'),
                                           'application/vnd.nokia.configuration-message' => array('.ncm'),
                                           'image/x-niff' => array('.nif','.niff'),
                                           'application/x-mix-transfer' => array('.nix'),
                                           'application/x-conference' => array('.nsc'),
                                           'application/x-navidoc' => array('.nvd'),
                                           'application/oda' => array('.oda'),
                                           'application/x-omc' => array('.omc'),
                                           'application/x-omcdatamaker' => array('.omcd'),
                                           'application/x-omcregerator' => array('.omcr'),
                                           'text/x-pascal' => array('.p'),
                                           'application/pkcs10' => array('.p10'),
                                           'application/x-pkcs10' => array('.p10'),
                                           'application/pkcs-12' => array('.p12'),
                                           'application/x-pkcs12' => array('.p12'),
                                           'application/x-pkcs7-signature' => array('.p7a'),
                                           'application/pkcs7-mime' => array('.p7c','.p7m'),
                                           'application/x-pkcs7-mime' => array('.p7c','.p7m'),
                                           'application/x-pkcs7-certreqresp' => array('.p7r'),
                                           'application/pkcs7-signature' => array('.p7s'),
                                           'application/pro_eng' => array('.part','.prt'),
                                           'text/pascal' => array('.pas'),
                                           'image/x-portable-bitmap' => array('.pbm'),
                                           'application/vnd.hp-pcl' => array('.pcl'),
                                           'application/x-pcl' => array('.pcl'),
                                           'image/x-pict' => array('.pct'),
                                           'image/x-pcx' => array('.pcx'),
                                           'chemical/x-pdb' => array('.pdb','.xyz'),
                                           'application/pdf' => array('.pdf'),
                                           'audio/make.my.funk' => array('.pfunk'),
                                           'image/x-portable-graymap' => array('.pgm'),
                                           'image/x-portable-greymap' => array('.pgm'),
                                           'image/pict' => array('.pic','.pict'),
                                           'application/x-newton-compatible-pkg' => array('.pkg'),
                                           'application/vnd.ms-pki.pko' => array('.pko'),
                                           'text/x-script.perl' => array('.pl'),
                                           'application/x-pixclscript' => array('.plx'),
                                           'image/x-xpixmap' => array('.pm','.xpm'),
                                           'text/x-script.perl-module' => array('.pm'),
                                           'application/x-pagemaker' => array('.pm4','.pm5'),
                                           'image/png' => array('.png','.x-png'),
                                           'application/x-portable-anymap' => array('.pnm'),
                                           'image/x-portable-anymap' => array('.pnm'),
                                           'application/mspowerpoint' => array('.pot','.pps','.ppt','.ppz'),
                                           'application/vnd.ms-powerpoint' => array('.pot','.ppa','.pps','.ppt','.pwz'),
                                           'model/x-pov' => array('.pov'),
                                           'image/x-portable-pixmap' => array('.ppm'),
                                           'application/powerpoint' => array('.ppt'),
                                           'application/x-mspowerpoint' => array('.ppt'),
                                           'application/x-freelance' => array('.pre'),
                                           'paleovu/x-pv' => array('.pvu'),
                                           'text/x-script.phyton' => array('.py'),
                                           'applicaiton/x-bytecode.python' => array('.pyc'),
                                           'audio/vnd.qcelp' => array('.qcp'),
                                           'image/x-quicktime' => array('.qif','.qti','.qtif'),
                                           'video/x-qtc' => array('.qtc'),
                                           'audio/x-pn-realaudio' => array('.ra','.ram','.rm','.rmm','.rmp'),
                                           'audio/x-pn-realaudio-plugin' => array('.ra','.rmp','.rpm'),
                                           'audio/x-realaudio' => array('.ra'),
                                           'application/x-cmu-raster' => array('.ras'),
                                           'image/cmu-raster' => array('.ras','.rast'),
                                           'image/x-cmu-raster' => array('.ras'),
                                           'text/x-script.rexx' => array('.rexx'),
                                           'image/vnd.rn-realflash' => array('.rf'),
                                           'image/x-rgb' => array('.rgb'),
                                           'application/vnd.rn-realmedia' => array('.rm'),
                                           'audio/mid' => array('.rmi'),
                                           'application/ringing-tones' => array('.rng'),
                                           'application/vnd.nokia.ringing-tone' => array('.rng'),
                                           'application/vnd.rn-realplayer' => array('.rnx'),
                                           'application/x-troff' => array('.roff','.t','.tr'),
                                           'image/vnd.rn-realpix' => array('.rp'),
                                           'text/richtext' => array('.rt','.rtf','.rtx'),
                                           'text/vnd.rn-realtext' => array('.rt'),
                                           'application/rtf' => array('.rtf','.rtx'),
                                           'application/x-rtf' => array('.rtf'),
                                           'video/vnd.rn-realvideo' => array('.rv'),
                                           'audio/s3m' => array('.s3m'),
                                           'application/x-tbook' => array('.sbk','.tbk'),
                                           'application/x-lotusscreencam' => array('.scm'),
                                           'text/x-script.guile' => array('.scm'),
                                           'text/x-script.scheme' => array('.scm'),
                                           'video/x-scm' => array('.scm'),
                                           'application/sdp' => array('.sdp'),
                                           'application/x-sdp' => array('.sdp'),
                                           'application/sounder' => array('.sdr'),
                                           'application/sea' => array('.sea'),
                                           'application/x-sea' => array('.sea'),
                                           'application/set' => array('.set'),
                                           'text/sgml' => array('.sgm','.sgml'),
                                           'text/x-sgml' => array('.sgm','.sgml'),
                                           'application/x-sh' => array('.sh'),
                                           'application/x-shar' => array('.sh','.shar'),
                                           'text/x-script.sh' => array('.sh'),
                                           'text/x-server-parsed-html' => array('.shtml','.ssi'),
                                           'audio/x-psid' => array('.sid'),
                                           'application/x-sit' => array('.sit'),
                                           'application/x-stuffit' => array('.sit'),
                                           'application/x-koan' => array('.skd','.skm','.skp','.skt'),
                                           'application/x-seelogo' => array('.sl'),
                                           'application/smil' => array('.smi','.smil'),
                                           'audio/x-adpcm' => array('.snd'),
                                           'application/solids' => array('.sol'),
                                           'application/x-pkcs7-certificates' => array('.spc'),
                                           'text/x-speech' => array('.spc','.talk'),
                                           'application/futuresplash' => array('.spl'),
                                           'application/x-sprite' => array('.spr','.sprite'),
                                           'application/x-wais-source' => array('.src','.wsrc'),
                                           'application/streamingmedia' => array('.ssm'),
                                           'application/vnd.ms-pki.certstore' => array('.sst'),
                                           'application/step' => array('.step','.stp'),
                                           'application/sla' => array('.stl'),
                                           'application/vnd.ms-pki.stl' => array('.stl'),
                                           'application/x-navistyle' => array('.stl'),
                                           'application/x-sv4cpio' => array('.sv4cpio'),
                                           'application/x-sv4crc' => array('.sv4crc'),
                                           'application/x-world' => array('.svr','.wrl'),
                                           'x-world/x-svr' => array('.svr'),
                                           'application/x-shockwave-flash' => array('.swf'),
                                           'application/x-tar' => array('.tar'),
                                           'application/toolbook' => array('.tbk'),
                                           'application/x-tcl' => array('.tcl'),
                                           'text/x-script.tcl' => array('.tcl'),
                                           'text/x-script.tcsh' => array('.tcsh'),
                                           'application/x-tex' => array('.tex'),
                                           'application/x-texinfo' => array('.texi','.texinfo'),
                                           'application/plain' => array('.text'),
                                           'application/gnutar' => array('.tgz'),
                                           'appliction/x-compressed' => array('.tgz'),
                                           'image/tiff' => array('.tif','.tiff'),
                                           'image/x-tiff' => array('.tif','.tiff'),
                                           'audio/tsp-audio' => array('.tsi'),
                                           'application/dsptype' => array('.tsp'),
                                           'audio/tsplayer' => array('.tsp'),
                                           'text/tab-separated-values' => array('.tsv'),
                                           'text/x-uil' => array('.uil'),
                                           'text/uri-list' => array('.uni','.unis','.uri','.uris'),
                                           'application/i-deas' => array('.unv'),
                                           'application/x-ustar' => array('.ustar'),
                                           'multipart/x-ustar' => array('.ustar'),
                                           'text/x-uuencode' => array('.uu','.uue'),
                                           'vda' => array('application/vda'),
                                           'video/vdo' => array('.vdo'),
                                           'application/groupwise' => array('.vew'),
                                           'video/vivo' => array('.viv','.vivo'),
                                           'video/vnd.vivo' => array('.viv','.vivo'),
                                           'application/vocaltec-media-desc' => array('.vmd'),
                                           'aption/vocaltec-media-file' => array('.vmf'),
                                           'audio/voc' => array('.voc'),
                                           'audio/x-voc' => array('.voc'),
                                           'video/vosaic' => array('.vos'),
                                           'audio/voxware' => array('.vox'),
                                           'audio/x-twinvq-plugin' => array('.vqe','.vql'),
                                           'audio/x-twinvq' => array('.vqf'),
                                           'applica' => array('.vrml'),
                                           'model/vrml' => array('.vrml','.wrl','.wrz'),
                                           'x-world/x-vrml' => array('.vrml','.wrl','.wrz'),
                                           'x-world/x-vrt' => array('.vrt'),
                                           'application/x-visio' => array('.vsd','.vst','.vsw'),
                                           'application/wordperfect6.0' => array('.w60','.wp5'),
                                           'applicationect6.1' => array('.w61'),
                                           'audio/wav' => array('.wav'),
                                           'audio/x-wav' => array('.wav'),
                                           'application/x-qpro' => array('.wb1'),
                                           'image/vnd.wap.wbmp' => array('.wbmp'),
                                           'application/vnd.xara' => array('.web'),
                                           'application/x-123' => array('.wk1'),
                                           'windows/metafile' => array('.wmf'),
                                           'text/vnd.wap.wml' => array('.wml'),
                                           'application/vnd.wap.wmlc' => array('.wmlc'),
                                           'text/vnd.wap.wmlscript' => array('.wmls'),
                                           'application/vnd.wap.wmlscriptc' => array('.wmlsc'),
                                           'application/wordperfect' => array('.wp','.wp5','.wp6','.wpd'),
                                           'application/x-wpwin' => array('.wpd'),
                                           'application/x-lotus' => array('.wq1'),
                                           'application/mswrite' => array('.wri'),
                                           'application/x-wri' => array('.wri'),
                                           'text/scriplet' => array('.wsc'),
                                           'application/x-wintalk' => array('.wtk'),
                                           'image/x-xb/x-amt-demorun' => array('.xbm'),
                                           'xgl/drawing' => array('.xgz'),
                                           'image/vnd.xiff' => array('.xif'),
                                           'application/excel' => array('.xl','.xla','.xlb','.xlc','.xld','.xlk','.xlm','.xls','.xlt','.xlv','.xlw'),
                                           'application/x-excel' => array('.xla','.xlb','.xlc','.xld','.xll','.xlm','.xls','.xlt','.xlv','.xlw'),
                                           'application/x-msexcel' => array('.xla','.xls','.xlw'),
                                           'application/vnd.ms-excel' => array('.xlb','.xlc','.xll','.xlm','.xls','.xlw','.csv'),
                                           'audio/xm' => array('.xm'),
                                           'application/xml' => array('.xml'),
                                           'text/xml' => array('.xml'),
                                           'xgl/movie' => array('.xmz'),
                                           'application/x-vnd.ls-xpix' => array('.xpix'),
                                           'image/xpm' => array('.xpm'),
                                           'video/x-amt-showrun' => array('.xsr'),
                                           'image/x-xwd' => array('.xwd'),
                                           'image/x-xwindowdump' => array('.xwd'),
                                           'application/x-compress' => array('.z'),
                                           'applicatiopressed' => array('.zip'),
                                           'application/zip' => array('.zip'),
                                           'multipart/x-zip' => array('.zip'),
                                           'text/x-script.zsh' => array('.zsh'));

            public static $ext_to_mime = array('.3dm' => array('x-world/x-3dmf'),
                                               '.3dmf' => array('x-world/x-3dmf'),
                                               '.a' => array('application/octet-stream'),
                                               '.aab' => array('application/x-authorware-bin'),
                                               '.aam' => array('application/x-authorware-map'),
                                               '.aas' => array('application/x-authorware-seg'),
                                               '.abc' => array('text/vnd.abc'),
                                               '.acgi' => array('text/html'),
                                               '.afl' => array('video/animaflex'),
                                               '.ai' => array('application/postscript'),
                                               '.aif' => array('audio/aiff','audio/x-aiff'),
                                               '.aifc' => array('audio/aiff','audio/x-aiff'),
                                               '.aiff' => array('audio/aiff','audio/x-aiff'),
                                               '.aim' => array('application/x-aim'),
                                               '.aip' => array('text/x-audiosoft-intra'),
                                               '.ani' => array('application/x-navi-animation'),
                                               '.aos' => array('application/x-nokia-9000-communicator-add-on-software'),
                                               '.aps' => array('application/mime'),
                                               '.arc' => array('application/octet-stream'),
                                               '.arj' => array('application/arj','application/octet-stream'),
                                               '.art' => array('image/x-jg'),
                                               '.asf' => array('video/x-ms-asf'),
                                               '.asm' => array('text/x-asm'),
                                               '.asp' => array('text/asp'),
                                               '.asx' => array('application/x-mplayer2','video/x-ms-asf','video/x-ms-asf-plugin'),
                                               '.au' => array('audio/basic','audio/x-au'),
                                               '.avi' => array('application/x-troff-msvideo','video/avi','video/msvideo','video/x-msvideo'),
                                               '.avs' => array('video/avs-video'),
                                               '.bcpio' => array('application/x-bcpio'),
                                               '.bin' => array('application/mac-binary','application/macbinary','application/octet-stream','application/x-binary','application/x-macbinary'),
                                               '.bm' => array('image/bmp'),
                                               '.bmp' => array('image/bmp','image/x-windows-bmp'),
                                               '.boo' => array('application/book'),
                                               '.book' => array('application/book'),
                                               '.boz' => array('application/x-bzip2'),
                                               '.bsh' => array('application/x-bsh'),
                                               '.bz' => array('application/x-bzip'),
                                               '.bz2' => array('application/x-bzip2'),
                                               '.c' => array('text/plain','text/x-c'),
                                               '.c++' => array('text/plain'),
                                               '.cat' => array('application/vnd.ms-pki.seccat'),
                                               '.cc' => array('text/plain','text/x-c'),
                                               '.ccad' => array('application/clariscad'),
                                               '.cco' => array('application/x-cocoa'),
                                               '.cdf' => array('application/cdf','application/x-cdf','application/x-netcdf'),
                                               '.cer' => array('application/pkix-cert','application/x-x509-ca-cert'),
                                               '.cha' => array('application/x-chat'),
                                               '.chat' => array('application/x-chat'),
                                               '.class' => array('application/java','application/java-byte-code','application/x-java-class'),
                                               '.com' => array('application/octet-stream','text/plain'),
                                               '.conf' => array('text/plain'),
                                               '.cpio' => array('application/x-cpio'),
                                               '.cpp' => array('text/x-c'),
                                               '.cpt' => array('application/mac-compactpro','application/x-compactpro','application/x-cpt'),
                                               '.crl' => array('application/pkcs-crl','application/pkix-crl'),
                                               '.crt' => array('application/pkix-cert','application/x-x509-ca-cert','application/x-x509-user-cert'),
                                               '.csh' => array('application/x-csh','text/x-script.csh'),
                                               '.css' => array('application/x-pointplus','text/css'),
                                               '.csv' => array('application/octet-stream','text/csv','application/vnd.ms-excel'),
                                               '.cxx' => array('text/plain'),
                                               '.dcr' => array('application/x-director'),
                                               '.deepv' => array('application/x-deepv'),
                                               '.def' => array('text/plain'),
                                               '.der' => array('application/x-x509-ca-cert'),
                                               '.dif' => array('video/x-dv'),
                                               '.dir' => array('application/x-director'),
                                               '.dl' => array('video/dl','video/x-dl'),
                                               '.doc' => array('application/msword'),
                                               '.dot' => array('application/msword'),
                                               '.dp' => array('application/commonground'),
                                               '.drw' => array('application/drafting'),
                                               '.dump' => array('application/octet-stream'),
                                               '.dv' => array('video/x-dv'),
                                               '.dvi' => array('application/x-dvi'),
                                               '.dwf' => array('drawing/x-dwf (old)','model/vnd.dwf'),
                                               '.dwg' => array('application/acad','image/vnd.dwg','image/x-dwg'),
                                               '.dxf' => array('application/dxf','image/vnd.dwg','image/x-dwg'),
                                               '.dxr' => array('application/x-director'),
                                               '.el' => array('text/x-script.elisp'),
                                               '.elc' => array('application/x-bytecode.elisp (compiled elisp)','application/x-elc'),
                                               '.env' => array('application/x-envoy'),
                                               '.eps' => array('application/postscript'),
                                               '.es' => array('application/x-esrehber'),
                                               '.etx' => array('text/x-setext'),
                                               '.evy' => array('application/envoy','application/x-envoy'),
                                               '.exe' => array('application/octet-stream'),
                                               '.f' => array('text/plain','text/x-fortran'),
                                               '.f77' => array('text/x-fortran'),
                                               '.f90' => array('text/plain','text/x-fortran'),
                                               '.fdf' => array('application/vnd.fdf'),
                                               '.fif' => array('application/fractals','image/fif'),
                                               '.fli' => array('video/fli','video/x-fli'),
                                               '.flo' => array('image/florian'),
                                               '.flx' => array('text/vnd.fmi.flexstor'),
                                               '.fmf' => array('video/x-atomic3d-feature'),
                                               '.for' => array('text/plain','text/x-fortran'),
                                               '.fpx' => array('image/vnd.fpx','image/vnd.net-fpx'),
                                               '.frl' => array('application/freeloader'),
                                               '.funk' => array('audio/make'),
                                               '.g' => array('text/plain'),
                                               '.g3' => array('image/g3fax'),
                                               '.gif' => array('image/gif'),
                                               '.gl' => array('video/gl','video/x-gl'),
                                               '.gsd' => array('audio/x-gsm'),
                                               '.gsm' => array('audio/x-gsm'),
                                               '.gsp' => array('application/x-gsp'),
                                               '.gss' => array('application/x-gss'),
                                               '.gtar' => array('application/x-gtar'),
                                               '.gz' => array('application/x-compressed','application/x-gzip'),
                                               '.gzip' => array('application/x-gzip','multipart/x-gzip'),
                                               '.h' => array('text/plain','text/x-h'),
                                               '.hdf' => array('application/x-hdf'),
                                               '.help' => array('application/x-helpfile'),
                                               '.hgl' => array('application/vnd.hp-hpgl'),
                                               '.hh' => array('text/plain','text/x-h'),
                                               '.hlb' => array('text/x-script'),
                                               '.hlp' => array('application/hlp','application/x-helpfile','application/x-winhelp'),
                                               '.hpg' => array('application/vnd.hp-hpgl'),
                                               '.hpgl' => array('application/vnd.hp-hpgl'),
                                               '.hqx' => array('application/binhex','application/binhex4','application/mac-binhex40','application/x-binhex40','application/x-mac-binhex40'),
                                               '.hq' => array('application/mac-binhex'),
                                               '.hta' => array('application/hta'),
                                               '.htc' => array('text/x-component'),
                                               '.htm' => array('text/html'),
                                               '.html' => array('text/html'),
                                               '.htmls' => array('text/html'),
                                               '.htt' => array('text/webviewhtml'),
                                               '.htx' => array('text/html'),
                                               '.ice' => array('x-conference/x-cooltalk'),
                                               '.ico' => array('image/x-icon'),
                                               '.idc' => array('text/plain'),
                                               '.ief' => array('image/ief'),
                                               '.iefs' => array('image/ief'),
                                               '.iges' => array('application/iges','model/iges'),
                                               '.igs' => array('application/iges','model/iges'),
                                               '.ima' => array('application/x-ima'),
                                               '.imap' => array('application/x-httpd-imap'),
                                               '.inf' => array('application/inf'),
                                               '.ins' => array('application/x-internett-signup'),
                                               '.ip' => array('application/x-ip2'),
                                               '.isu' => array('video/x-isvideo'),
                                               '.it' => array('audio/it'),
                                               '.iv' => array('application/x-inventor'),
                                               '.ivr' => array('i-world/i-vrml'),
                                               '.ivy' => array('application/x-livescreen'),
                                               '.jam' => array('audio/x-jam'),
                                               '.jav' => array('text/plain','text/x-java-source'),
                                               '.java' => array('text/plain','text/x-java-source'),
                                               '.jcm' => array('application/x-java-commerce'),
                                               '.jfif' => array('image/jpeg','image/pjpeg'),
                                               '.jfif-tbnl' => array('image/jpeg'),
                                               '.jpe' => array('image/jpeg','image/pjpeg'),
                                               '.jpeg' => array('image/jpeg','image/pjpeg'),
                                               '.jpg' => array('image/jpeg','image/pjpeg'),
                                               '.jps' => array('image/x-jps'),
                                               '.js' => array('application/x-javascript'),
                                               '.jut' => array('image/jutvision'),
                                               '.kar' => array('audio/midi','music/x-karaoke'),
                                               '.ksh' => array('application/x-ksh','text/x-script.ksh'),
                                               '.la' => array('audio/nspaudio','audio/x-nspaudio'),
                                               '.lam' => array('audio/x-liveaudio'),
                                               '.latex' => array('application/x-latex'),
                                               '.lha' => array('application/lha','application/octet-stream','application/x-lha'),
                                               '.lhx' => array('application/octet-stream'),
                                               '.list' => array('text/plain'),
                                               '.lma' => array('audio/nspaudio','audio/x-nspaudio'),
                                               '.log' => array('text/plain'),
                                               '.lsp' => array('application/x-lisp','text/x-script.lisp'),
                                               '.lst' => array('text/plain'),
                                               '.lsx' => array('text/x-la-asf'),
                                               '.ltx' => array('application/x-latex'),
                                               '.lzh' => array('application/octet-stream','application/x-lzh'),
                                               '.lzx' => array('application/lzx','application/octet-stream','application/x-lzx'),
                                               '.m' => array('text/plain','text/x-m'),
                                               '.m1v' => array('video/mpeg'),
                                               '.m2a' => array('audio/mpeg'),
                                               '.m2v' => array('video/mpeg'),
                                               '.m3u' => array('audio/x-mpequrl'),
                                               '.man' => array('application/x-troff-man'),
                                               '.map' => array('application/x-navimap'),
                                               '.mar' => array('text/plain'),
                                               '.mbd' => array('application/mbedlet'),
                                               '.mc$' => array('application/x-magic-cap-package-1.0'),
                                               '.mcd' => array('application/mcad','application/x-mathcad'),
                                               '.mcf' => array('image/vasa','text/mcf'),
                                               '.mcp' => array('application/netmc'),
                                               '.me' => array('application/x-troff-me'),
                                               '.mht' => array('message/rfc822'),
                                               '.mhtml' => array('message/rfc822'),
                                               '.mid' => array('application/x-midi','audio/midi','audio/x-mid','audio/x-midi','music/crescendo','x-music/x-midi'),
                                               '.midi' => array('application/x-midi','audio/midi','audio/x-mid','audio/x-midi','music/crescendo','x-music/x-midi'),
                                               '.mif' => array('application/x-frame','application/x-mif'),
                                               '.mime' => array('message/rfc822','www/mime'),
                                               '.mjf' => array('audio/x-vnd.audioexplosion.mjuicemediafile'),
                                               '.mjpg' => array('video/x-motion-jpeg'),
                                               '.mm' => array('application/base64','application/x-meme'),
                                               '.mme' => array('application/base64'),
                                               '.mod' => array('audio/mod','audio/x-mod'),
                                               '.moov' => array('video/quicktime'),
                                               '.mov' => array('video/quicktime'),
                                               '.movie' => array('video/x-sgi-movie'),
                                               '.mp2' => array('audio/mpeg','audio/x-mpeg','video/mpeg','video/x-mpeg','video/x-mpeq2a'),
                                               '.mp3' => array('audio/mpeg3','audio/x-mpeg-3','video/mpeg','video/x-mpeg'),
                                               '.mpa' => array('audio/mpeg','video/mpeg'),
                                               '.mpc' => array('application/x-project'),
                                               '.mpe' => array('video/mpeg'),
                                               '.mpeg' => array('video/mpeg'),
                                               '.mpg' => array('audio/mpeg','video/mpeg'),
                                               '.mpga' => array('audio/mpeg'),
                                               '.mpp' => array('application/vnd.ms-project'),
                                               '.mpt' => array('application/x-project'),
                                               '.mpv' => array('application/x-project'),
                                               '.mpx' => array('application/x-project'),
                                               '.mrc' => array('application/marc'),
                                               '.ms' => array('application/x-troff-ms'),
                                               '.mv' => array('video/x-sgi-movie'),
                                               '.my' => array('audio/make'),
                                               '.mzz' => array('application/x-vnd.audioexplosion.mzz'),
                                               '.nap' => array('image/naplps'),
                                               '.naplps' => array('image/naplps'),
                                               '.nc' => array('application/x-netcdf'),
                                               '.ncm' => array('application/vnd.nokia.configuration-message'),
                                               '.nif' => array('image/x-niff'),
                                               '.niff' => array('image/x-niff'),
                                               '.nix' => array('application/x-mix-transfer'),
                                               '.nsc' => array('application/x-conference'),
                                               '.nvd' => array('application/x-navidoc'),
                                               '.o' => array('application/octet-stream'),
                                               '.oda' => array('application/oda'),
                                               '.omc' => array('application/x-omc'),
                                               '.omcd' => array('application/x-omcdatamaker'),
                                               '.omcr' => array('application/x-omcregerator'),
                                               '.p' => array('text/x-pascal'),
                                               '.p10' => array('application/pkcs10','application/x-pkcs10'),
                                               '.p12' => array('application/pkcs-12','application/x-pkcs12'),
                                               '.p7a' => array('application/x-pkcs7-signature'),
                                               '.p7c' => array('application/pkcs7-mime','application/x-pkcs7-mime'),
                                               '.p7m' => array('application/pkcs7-mime','application/x-pkcs7-mime'),
                                               '.p7r' => array('application/x-pkcs7-certreqresp'),
                                               '.p7s' => array('application/pkcs7-signature'),
                                               '.part' => array('application/pro_eng'),
                                               '.pas' => array('text/pascal'),
                                               '.pbm' => array('image/x-portable-bitmap'),
                                               '.pcl' => array('application/vnd.hp-pcl','application/x-pcl'),
                                               '.pct' => array('image/x-pict'),
                                               '.pcx' => array('image/x-pcx'),
                                               '.pdb' => array('chemical/x-pdb'),
                                               '.pdf' => array('application/pdf'),
                                               '.pfunk' => array('audio/make','audio/make.my.funk'),
                                               '.pgm' => array('image/x-portable-graymap','image/x-portable-greymap'),
                                               '.pic' => array('image/pict'),
                                               '.pict' => array('image/pict'),
                                               '.pkg' => array('application/x-newton-compatible-pkg'),
                                               '.pko' => array('application/vnd.ms-pki.pko'),
                                               '.pl' => array('text/plain','text/x-script.perl'),
                                               '.plx' => array('application/x-pixclscript'),
                                               '.pm' => array('image/x-xpixmap','text/x-script.perl-module'),
                                               '.pm4' => array('application/x-pagemaker'),
                                               '.pm5' => array('application/x-pagemaker'),
                                               '.png' => array('image/png'),
                                               '.pnm' => array('application/x-portable-anymap','image/x-portable-anymap'),
                                               '.pot' => array('application/mspowerpoint','application/vnd.ms-powerpoint'),
                                               '.pov' => array('model/x-pov'),
                                               '.ppa' => array('application/vnd.ms-powerpoint'),
                                               '.ppm' => array('image/x-portable-pixmap'),
                                               '.pps' => array('application/mspowerpoint','application/vnd.ms-powerpoint'),
                                               '.ppt' => array('application/mspowerpoint','application/powerpoint','application/vnd.ms-powerpoint','application/x-mspowerpoint'),
                                               '.ppz' => array('application/mspowerpoint'),
                                               '.pre' => array('application/x-freelance'),
                                               '.prt' => array('application/pro_eng'),
                                               '.ps' => array('application/postscript'),
                                               '.psd' => array('application/octet-stream'),
                                               '.pvu' => array('paleovu/x-pv'),
                                               '.pwz' => array('application/vnd.ms-powerpoint'),
                                               '.py' => array('text/x-script.phyton'),
                                               '.pyc' => array('applicaiton/x-bytecode.python'),
                                               '.qcp' => array('audio/vnd.qcelp'),
                                               '.qd3' => array('x-world/x-3dmf'),
                                               '.qd3d' => array('x-world/x-3dmf'),
                                               '.qif' => array('image/x-quicktime'),
                                               '.qt' => array('video/quicktime'),
                                               '.qtc' => array('video/x-qtc'),
                                               '.qti' => array('image/x-quicktime'),
                                               '.qtif' => array('image/x-quicktime'),
                                               '.ra' => array('audio/x-pn-realaudio','audio/x-pn-realaudio-plugin','audio/x-realaudio'),
                                               '.ram' => array('audio/x-pn-realaudio'),
                                               '.ras' => array('application/x-cmu-raster','image/cmu-raster','image/x-cmu-raster'),
                                               '.rast' => array('image/cmu-raster'),
                                               '.rexx' => array('text/x-script.rexx'),
                                               '.rf' => array('image/vnd.rn-realflash'),
                                               '.rgb' => array('image/x-rgb'),
                                               '.rm' => array('application/vnd.rn-realmedia','audio/x-pn-realaudio'),
                                               '.rmi' => array('audio/mid'),
                                               '.rmm' => array('audio/x-pn-realaudio'),
                                               '.rmp' => array('audio/x-pn-realaudio','audio/x-pn-realaudio-plugin'),
                                               '.rng' => array('application/ringing-tones','application/vnd.nokia.ringing-tone'),
                                               '.rnx' => array('application/vnd.rn-realplayer'),
                                               '.roff' => array('application/x-troff'),
                                               '.rp' => array('image/vnd.rn-realpix'),
                                               '.rpm' => array('audio/x-pn-realaudio-plugin'),
                                               '.rt' => array('text/richtext','text/vnd.rn-realtext'),
                                               '.rtf' => array('application/rtf','application/x-rtf','text/richtext'),
                                               '.rtx' => array('application/rtf','text/richtext'),
                                               '.rv' => array('video/vnd.rn-realvideo'),
                                               '.s' => array('text/x-asm'),
                                               '.s3m' => array('audio/s3m'),
                                               '.saveme' => array('application/octet-stream'),
                                               '.sbk' => array('application/x-tbook'),
                                               '.scm' => array('application/x-lotusscreencam','text/x-script.guile','text/x-script.scheme','video/x-scm'),
                                               '.sdml' => array('text/plain'),
                                               '.sdp' => array('application/sdp','application/x-sdp'),
                                               '.sdr' => array('application/sounder'),
                                               '.sea' => array('application/sea','application/x-sea'),
                                               '.set' => array('application/set'),
                                               '.sgm' => array('text/sgml','text/x-sgml'),
                                               '.sgml' => array('text/sgml','text/x-sgml'),
                                               '.sh' => array('application/x-bsh','application/x-sh','application/x-shar','text/x-script.sh'),
                                               '.shar' => array('application/x-bsh','application/x-shar'),
                                               '.shtml' => array('text/html','text/x-server-parsed-html'),
                                               '.sid' => array('audio/x-psid'),
                                               '.sit' => array('application/x-sit','application/x-stuffit'),
                                               '.skd' => array('application/x-koan'),
                                               '.skm' => array('application/x-koan'),
                                               '.skp' => array('application/x-koan'),
                                               '.skt' => array('application/x-koan'),
                                               '.sl' => array('application/x-seelogo'),
                                               '.smi' => array('application/smil'),
                                               '.smil' => array('application/smil'),
                                               '.snd' => array('audio/basic','audio/x-adpcm'),
                                               '.sol' => array('application/solids'),
                                               '.spc' => array('application/x-pkcs7-certificates','text/x-speech'),
                                               '.spl' => array('application/futuresplash'),
                                               '.spr' => array('application/x-sprite'),
                                               '.sprite' => array('application/x-sprite'),
                                               '.src' => array('application/x-wais-source'),
                                               '.ssi' => array('text/x-server-parsed-html'),
                                               '.ssm' => array('application/streamingmedia'),
                                               '.sst' => array('application/vnd.ms-pki.certstore'),
                                               '.step' => array('application/step'),
                                               '.stl' => array('application/sla','application/vnd.ms-pki.stl','application/x-navistyle'),
                                               '.stp' => array('application/step'),
                                               '.sv4cpio' => array('application/x-sv4cpio'),
                                               '.sv4crc' => array('application/x-sv4crc'),
                                               '.svf' => array('image/vnd.dwg','image/x-dwg'),
                                               '.svr' => array('application/x-world','x-world/x-svr'),
                                               '.swf' => array('application/x-shockwave-flash'),
                                               '.t' => array('application/x-troff'),
                                               '.talk' => array('text/x-speech'),
                                               '.tar' => array('application/x-tar'),
                                               '.tbk' => array('application/toolbook','application/x-tbook'),
                                               '.tcl' => array('application/x-tcl','text/x-script.tcl'),
                                               '.tcsh' => array('text/x-script.tcsh'),
                                               '.tex' => array('application/x-tex'),
                                               '.texi' => array('application/x-texinfo'),
                                               '.texinfo' => array('application/x-texinfo'),
                                               '.text' => array('application/plain','text/plain'),
                                               '.tgz' => array('application/gnutar','appliction/x-compressed'),
                                               '.tif' => array('image/tiff','image/x-tiff'),
                                               '.tiff' => array('image/tiff','image/x-tiff'),
                                               '.tr' => array('application/x-troff'),
                                               '.tsi' => array('audio/tsp-audio'),
                                               '.tsp' => array('application/dsptype','audio/tsplayer'),
                                               '.tsv' => array('text/tab-separated-values'),
                                               '.turbot' => array('image/florian'),
                                               '.txt' => array('text/plain'),
                                               '.uil' => array('text/x-uil'),
                                               '.uni' => array('text/uri-list'),
                                               '.unis' => array('text/uri-list'),
                                               '.unv' => array('application/i-deas'),
                                               '.uri' => array('text/uri-list'),
                                               '.uris' => array('text/uri-list'),
                                               '.ustar' => array('application/x-ustar','multipart/x-ustar'),
                                               '.uu' => array('application/octet-stream','text/x-uuencode'),
                                               '.uue' => array('text/x-uuencode'),
                                               'application/vda' => array('vda'),
                                               '.vdo' => array('video/vdo'),
                                               '.vew' => array('application/groupwise'),
                                               '.viv' => array('video/vivo','video/vnd.vivo'),
                                               '.vivo' => array('video/vivo','video/vnd.vivo'),
                                               '.vmd' => array('application/vocaltec-media-desc'),
                                               '.vmf' => array('aption/vocaltec-media-file'),
                                               '.voc' => array('audio/voc','audio/x-voc'),
                                               '.vos' => array('video/vosaic'),
                                               '.vox' => array('audio/voxware'),
                                               '.vqe' => array('audio/x-twinvq-plugin'),
                                               '.vqf' => array('audio/x-twinvq'),
                                               '.vql' => array('audio/x-twinvq-plugin'),
                                               '.vrml' => array('applica','model/vrml','x-world/x-vrml'),
                                               '.vrt' => array('x-world/x-vrt'),
                                               '.vsd' => array('application/x-visio'),
                                               '.vst' => array('application/x-visio'),
                                               '.vsw' => array('application/x-visio'),
                                               '.w60' => array('application/wordperfect6.0'),
                                               '.w61' => array('applicationect6.1'),
                                               '.w6w' => array('application/msword'),
                                               '.wav' => array('audio/wav','audio/x-wav'),
                                               '.wb1' => array('application/x-qpro'),
                                               '.wbmp' => array('image/vnd.wap.wbmp'),
                                               '.web' => array('application/vnd.xara'),
                                               '.wiz' => array('application/msword'),
                                               '.wk1' => array('application/x-123'),
                                               '.wmf' => array('windows/metafile'),
                                               '.wml' => array('text/vnd.wap.wml'),
                                               '.wmlc' => array('application/vnd.wap.wmlc'),
                                               '.wmls' => array('text/vnd.wap.wmlscript'),
                                               '.wmlsc' => array('application/vnd.wap.wmlscriptc'),
                                               '.word' => array('application/msword'),
                                               '.wp' => array('application/wordperfect'),
                                               '.wp5' => array('application/wordperfect','application/wordperfect6.0'),
                                               '.wp6' => array('application/wordperfect'),
                                               '.wpd' => array('application/wordperfect','application/x-wpwin'),
                                               '.wq1' => array('application/x-lotus'),
                                               '.wri' => array('application/mswrite','application/x-wri'),
                                               '.wrl' => array('application/x-world','model/vrml','x-world/x-vrml'),
                                               '.wrz' => array('model/vrml','x-world/x-vrml'),
                                               '.wsc' => array('text/scriplet'),
                                               '.wsrc' => array('application/x-wais-source'),
                                               '.wtk' => array('application/x-wintalk'),
                                               '.xbm' => array('image/x-xb/x-amt-demorun'),
                                               '.xgz' => array('xgl/drawing'),
                                               '.xif' => array('image/vnd.xiff'),
                                               '.xl' => array('application/excel'),
                                               '.xla' => array('application/excel','application/x-excel','application/x-msexcel'),
                                               '.xlb' => array('application/excel','application/vnd.ms-excel','application/x-excel'),
                                               '.xlc' => array('application/excel','application/vnd.ms-excel','application/x-excel'),
                                               '.xld' => array('application/excel','application/x-excel'),
                                               '.xlk' => array('application/excel'),
                                               '.xll' => array('application/vnd.ms-excel','application/x-excel'),
                                               '.xlm' => array('application/excel','application/vnd.ms-excel','application/x-excel'),
                                               '.xls' => array('application/excel','application/vnd.ms-excel','application/x-excel','application/x-msexcel'),
                                               '.xlt' => array('application/excel','application/x-excel'),
                                               '.xlv' => array('application/excel','application/x-excel'),
                                               '.xlw' => array('application/excel','application/vnd.ms-excel','application/x-excel','application/x-msexcel'),
                                               '.xm' => array('audio/xm'),
                                               '.xml' => array('application/xml','text/xml'),
                                               '.xmz' => array('xgl/movie'),
                                               '.xpix' => array('application/x-vnd.ls-xpix'),
                                               '.xpm' => array('image/x-xpixmap','image/xpm'),
                                               '.x-png' => array('image/png'),
                                               '.xsr' => array('video/x-amt-showrun'),
                                               '.xwd' => array('image/x-xwd','image/x-xwindowdump'),
                                               '.xyz' => array('chemical/x-pdb'),
                                               '.z' => array('application/x-compress','application/x-compressed'),
                                               '.zip' => array('application/x-compressed','applicatiopressed','application/zip','multipart/x-zip'),
                                               '.zoo' => array('application/octet-stream'),
                                               '.zsh' => array('text/x-script.zsh'));
        private $allowed_types;
        
        public function __construct()
        {
            $this->allowed_types = array();
        }
        
        public function allowImages()
        {
            $this->allowed_types[] = '.png';
            $this->allowed_types[] = '.x-png';
            $this->allowed_types[] = '.jpg';
            $this->allowed_types[] = '.jfif';
            $this->allowed_types[] = '.jfif-tbnl';
            $this->allowed_types[] = '.jpe';
            $this->allowed_types[] = '.jpeg';
            $this->allowed_types[] = '.gif';
            $this->allowed_types[] = '.bmp';
            $this->allowed_types[] = '.tif';
            $this->allowed_types[] = '.tiff';
            return $this;
        }
        
        public function allowMedia()
        {
            $this->allowed_types[] = '.aif';
            $this->allowed_types[] = '.aifc';
            $this->allowed_types[] = '.aiff';
            $this->allowed_types[] = '.avi';
            $this->allowed_types[] = '.avs';
            $this->allowed_types[] = '.dv';
            $this->allowed_types[] = '.dvi';
            $this->allowed_types[] = '.m1v';
            $this->allowed_types[] = '.m2a';
            $this->allowed_types[] = '.m4a';
            $this->allowed_types[] = '.m2v';
            $this->allowed_types[] = '.mid';
            $this->allowed_types[] = '.midi';
            $this->allowed_types[] = '.mjpg';
            $this->allowed_types[] = '.moov';
            $this->allowed_types[] = '.mov';
            $this->allowed_types[] = '.movie';
            $this->allowed_types[] = '.mp2';
            $this->allowed_types[] = '.mp3';
            $this->allowed_types[] = '.mpa';
            $this->allowed_types[] = '.mpc';
            $this->allowed_types[] = '.mpe';
            $this->allowed_types[] = '.mpeg';
            $this->allowed_types[] = '.mpg';
            $this->allowed_types[] = '.mpga';
            $this->allowed_types[] = '.mzz';
            $this->allowed_types[] = '.swf';
            return $this;
        }

        public function allowDocuments()
        {
            $this->allowed_types[] = '.doc';
            $this->allowed_types[] = '.dot';
            $this->allowed_types[] = '.mme';
            $this->allowed_types[] = '.pdf';
            $this->allowed_types[] = '.pm4';
            $this->allowed_types[] = '.pm5';
            $this->allowed_types[] = '.pot';
            $this->allowed_types[] = '.ppa';
            $this->allowed_types[] = '.pps';
            $this->allowed_types[] = '.ppt';
            $this->allowed_types[] = '.ppz';
            $this->allowed_types[] = '.pwz';
            $this->allowed_types[] = '.rm';
            $this->allowed_types[] = '.rt';
            $this->allowed_types[] = '.rtf';
            $this->allowed_types[] = '.rtx';
            $this->allowed_types[] = '.txt';
            $this->allowed_types[] = '.word';
            $this->allowed_types[] = '.wp';
            $this->allowed_types[] = '.wp5';
            $this->allowed_types[] = '.wp6';
            $this->allowed_types[] = '.wpd';
            $this->allowed_types[] = '.wq1';
            $this->allowed_types[] = '.wri';
            $this->allowed_types[] = '.xl';
            $this->allowed_types[] = '.xla';
            $this->allowed_types[] = '.xlb';
            $this->allowed_types[] = '.xlc';
            $this->allowed_types[] = '.xld';
            $this->allowed_types[] = '.xlk';
            $this->allowed_types[] = '.xll';
            $this->allowed_types[] = '.xlm';
            $this->allowed_types[] = '.xls';
            $this->allowed_types[] = '.xlt';
            $this->allowed_types[] = '.xlv';
            $this->allowed_types[] = '.xlw';
            return $this;
        }

        public function allowArchives()
        {
            $this->allowed_types[] = '.boz';
            $this->allowed_types[] = '.bz';
            $this->allowed_types[] = '.tar.bz';
            $this->allowed_types[] = '.bz2';
            $this->allowed_types[] = '.tar.bz2';
            $this->allowed_types[] = '.gtar';
            $this->allowed_types[] = '.gz';
            $this->allowed_types[] = '.tar.gz';
            $this->allowed_types[] = '.gzip';
            $this->allowed_types[] = '.hqx';
            $this->allowed_types[] = '.hq';
            $this->allowed_types[] = '.z';
            $this->allowed_types[] = '.zip';
            return $this;
        }
        
        public function fileAllowed($mime,$path)
        {
            $extension = $this->extension($path);
            $this->checkMimeMatchesExtension($mime,$extension);
            $ret = FALSE;

            if(in_array($extension,$this->allowed_types))
                $ret = TRUE;
            
            return $ret;
        }
        
        public function extension($path)
        {
            $info = pathinfo($path);
            $filename = $info['filename'];
            $extensions = array();
        
            while(isset($info['extension']))
            {
                $extensions[] = '.'.$info['extension'];
                $info = pathinfo($info['filename']);
            }
        
            $full_extension = implode('',$extensions);
            return $full_extension;
        }
        
        public function checkMimeMatchesExtension($mime,$extension)
        {
            if(!isset(self::$mime_to_ext[$mime]))
                throw new UnknownMimeTypeException('The mime type: '.$mime.' does not exist in MimeList::checkMimeMatchesExtension');
            if(!in_array($extension,self::$mime_to_ext[$mime]))
                throw new SpoofedMimeTypeException('The extension: '.$extension.' is not supposed to be associated with mime type: '.$mime.' in MimeList::checkMimeMatchesExtension');
        }

        public function allowSourceCode()
        {
            throw new Exception('MimeList::allowSourceCode() is not yet implemented');
            return $this;
        }

        public function allowScripts()
        {
            throw new Exception('MimeList::allowScripts() is not yet implemented');
            return $this;
        }

        public function allowMarkup()
        {
            throw new Exception('MimeList::allowMarkup() is not yet implemented');
            return $this;
        }

        public function allowApplications()
        {
            throw new Exception('MimeList::allowApplications() is not yet implemented');
            return $this;
        }
        
        public function excluding($extension)
        {
            unset($this->allowed_types[array_search($extension,$this->allowed_types)]);
            return $this;
        }

        public function including($extension)
        {
            $this->checkValidExtension($extension);
            $this->allowed_types[] = $extension;
            return $this;
        }

        public function forceInclude($extension)
        {
            $this->allowed_types[] = $extension;
            return $this;
        }

        public function checkValidExtension($extension)
        {
            if(!isset(self::$ext_to_mime[$extension]))
                throw new UnknownMimeTypeException('The extension: '.$extension.' cannot be used because it is not a known mime type');
        }
    }
    
    class MimeException extends Exception{}
    class UnknownMimeTypeException extends MimeException{}
    class SpoofedMimeTypeException extends MimeException{}
?>
